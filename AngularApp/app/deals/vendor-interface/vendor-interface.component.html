<div class = "row">
	<h1><a routerLink = "/vendor">CloseBites</a>
		<div style = "float:right">
			<a routerLink = "/">
			<button type="button" class="btn btn-danger"
            (click)="logout">Log Out</button></a>
		</div>
	</h1>
</div>
<!--contains calendar and plus glyphicon to add deal-->
<div class = "row">
        <div class = "col-sm-2" style="text-align:center">
            <span class = "glyphicon glyphicon-plus" style="font-size:300%; margin-top:250px"
            (click)="resetTypeNotChosen()" data-toggle="modal" data-target="#myModal"></span>
        </div>
        <div class = "container-fluid" style = "margin-top:20px;margin-left:200px">
            <button class = "btn btn-lg" [ngClass] = "{'btn-info':mode == 'month','btn-primary':mode != 'month'}"
			type="button"
			(click) = "updateMode('month')">Month</button>
            <button class = "btn btn-lg" [ngClass] = "{'btn-info':mode == 'week','btn-primary':mode != 'week'}"
			type="button"
			(click) = "updateMode('week')">Week</button>
            <button class = "btn btn-lg" [ngClass] = "{'btn-info':mode == 'day','btn-primary':mode != 'day'}"
			type="button"
			(click) = "updateMode('day')">Day</button>
            <table *ngIf = "mode=='month'"class="table table-bordered" style="margin-top:20px">
                <thead>
                <tr>
                    <th *ngFor = "let day of days">
                        {{day}}</th>
                </tr>
                </thead>
                <tbody>
                    <tr *ngFor = "let value of [1,2,3,4,5,6]">
                        <td *ngFor = "let value of [1,2,3,4,5,6,7]"></td>
                    </tr>
                </tbody>
            </table>
            <div *ngIf = "mode=='week'" class="media">
                <div *ngFor = "let day of days">
                    <div class="media-left" style="border-style:ridge;height:68px;width:20%;max-width:20%;text-align:center">
                        <h4>{{day}}</h4>
                    </div>
                    <div class="media-body" style="border-style:ridge;height:68px">

                    </div>
                </div>
            </div>
            <div *ngIf = "mode=='day'" class="media">
                <div *ngFor = "let time of times">
                    <div class="media-left" style="border-style:ridge;height:80px;width:20%;max-width:20%;text-align:center">
                        <h4>{{time}}</h4>
                    </div>
                    <div class="media-body" style="border-style:ridge;height:80px">
                    <hr><hr>  
                    </div>
                </div>
            </div>
        </div>        
</div>

<!--modal to add deal-->
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog" style="width:400px">
    
      <div class="modal-content" style="text-align:center">
        <h1>Create Deal</h1>
        <div class="form-group">
            <input type="text" class="form-control" id="title" name="title" placeholder="Deal Title" [(ngModel)]="deal.name">
        </div>
        <div class="form-group">
            <textarea class="form-control" rows="5" id="description" placeholder="Deal Description" [(ngModel)]="deal.description"></textarea>
        </div>
        <p>Deal Type
            <button [ngClass] = "{'btn-info': food,'btn-primary':!food}"
                (click)="updateMode('food')" type="button" class="btn btn-primary" 
                style="width:30%;margin:10px">Food
            </button>
            <button [ngClass] = "{'btn-info':drinks,'btn-primary':!drinks}"
                (click)="updateMode('drinks')" type="button" class="btn btn-primary" 
                style="width:30%;margin:10px">Drinks
            </button>
            <button [ngClass] = "{'btn-info':foodAndDrinks,'btn-primary':!foodAndDrinks}"
                (click)="updateMode('foodAndDrinks')" type="button" class="btn btn-primary" 
                style="width:30%;margin:10px">Both
            </button>
        </p>
        
        <form style="display:inline-block">
            <span>From</span>
            <input type="date" name ="start" [(ngModel)]="startDate">
            <input type="time" name="start" [(ngModel)]="startTime">
        </form>
        <form style="display:inline-block">
            <span>To  </span>
            <input type="date" name="end" [(ngModel)]="endDate">
            <input type="time" name="end" [(ngModel)]="endTime">
        </form>
        <form style="display:inline-block">
            Start Price
            <input type="number" min="0.01" step="0.01" max="2500" value="0.00" name="price" [(ngModel)]="startPrice" />
            Discounted
            <input type="number" min="0.01" step="0.01" max="2500" value="0.00" name="otherPrice" [(ngModel)]="endPrice"/>
        </form>
        <p> Choose the days on which this deal will repeat. </p>
        <form style="display:inline-block" *ngFor = "let day of days;let i = index">
            <div class="checkbox">
                <label><input type="checkbox" name="day" (click)="clickDay(i)">{{day}}</label>
            </div>
        </form>
        <div class="form-group">
            <input type="text" class="form-control" id="photoURL" name="photoURL" placeholder="Photo URL" [(ngModel)]="deal.photoUrl">
        </div>
        <button type="button" class="btn btn-default" (click)="addDeal()" style="margin:20px">Submit</button>  
        <div *ngIf = 'typeNotChosen'class="alert alert-danger">
            You must select a deal type.
        </div>
        <div *ngIf = 'typeNotChosen==false'class="alert alert-success">
            You have successfully created a new deal.
        </div>
      
    </div>
  </div>